<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Investors Inn</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="payment.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">INVESTORS INN</div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="stocks.html">Stocks</a></li>
            <li><a href="indexes.html">Indexes</a></li>
            <li><a href="forex.html">Forex</a></li>
            <li><a href="about.html">About Us</a></li>
        </ul>
        <div class="profile-icon">
            <a href="login.html">Logout</a>
        </div>
    </nav>

    <div class="payment-container">
        <h2>Complete Your Purchase</h2>
        <div class="order-summary">
            <h3>Order Summary</h3>
            <div id="item-details">
                <!-- Will be filled by JavaScript -->
            </div>
        </div>
        <form action="process_payment.php" method="post" class="payment-form">
            <input type="hidden" name="item_type" id="item_type">
            <input type="hidden" name="item_symbol" id="item_symbol">
            <input type="hidden" name="quantity" id="quantity">
            <input type="hidden" name="price" id="price">
            <input type="hidden" name="total" id="total">

            <div class="form-group">
                <label>Quantity</label>
                <input type="number" id="quantity-input" min="1" required>
            </div>

            <div class="form-group">
                <label>Payment Method</label>
                <select name="payment_method" required>
                    <option value="credit_card">Credit Card</option>
                    <option value="debit_card">Debit Card</option>
                </select>
            </div>

            <div class="form-group">
                <label>Card Number</label>
                <input type="text" name="card_number" placeholder="1234 5678 9012 3456" required>
            </div>

            <div class="card-details">
                <div class="form-group">
                    <label>Expiry Date</label>
                    <input type="text" name="expiry_date" placeholder="MM/YY" required>
                </div>
                <div class="form-group">
                    <label>CVV</label>
                    <input type="text" name="cvv" placeholder="123" required>
                </div>
            </div>

            <button type="submit" class="submit-btn">Complete Purchase</button>
        </form>
    </div>

    <script>
        // Get URL parameters
        const params = new URLSearchParams(window.location.search);
        const itemType = params.get('type');
        const symbol = params.get('symbol');
        const price = parseFloat(params.get('price'));
        
        // Set hidden fields
        document.getElementById('item_type').value = itemType;
        document.getElementById('item_symbol').value = symbol;
        document.getElementById('price').value = price;

        // Update order summary
        const itemDetails = document.getElementById('item-details');
        itemDetails.innerHTML = `
            <p><strong>Type:</strong> ${itemType}</p>
            <p><strong>Symbol:</strong> ${symbol}</p>
            <p><strong>Price per unit:</strong> $${price}</p>
        `;

        // Update total when quantity changes
        const quantityInput = document.getElementById('quantity-input');
        quantityInput.addEventListener('input', function() {
            const quantity = parseInt(this.value) || 0;
            const total = quantity * price;
            document.getElementById('quantity').value = quantity;
            document.getElementById('total').value = total;
            itemDetails.innerHTML = `
                <p><strong>Type:</strong> ${itemType}</p>
                <p><strong>Symbol:</strong> ${symbol}</p>
                <p><strong>Price per unit:</strong> $${price}</p>
                <p><strong>Quantity:</strong> ${quantity}</p>
                <p><strong>Total:</strong> $${total.toFixed(2)}</p>
            `;
        });
    </script>
</body>
</html> 